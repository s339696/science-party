@import models.ebean.User
@(user: User, ownProfile: Boolean, feedback: String)


@mainIntern("Profil von " + user.getFirstname, user) {

    <br>
    <br>
    <br>
    <br>

    <div class="tabele">
        <div class="Profilbild">
            <img src="profilbild.png" alt="Profilbild" height="250" width="250">
        </div>
        <div class="userInfo">
            <h3>Profil</h3>
            <ul>
                <li>Vorname: @(user.getFirstname)</li>
                <li>Nachname: @(user.getLastname)</li>
                <li>Geburtsdatum: @(user.getBirthdayAsString)</li>
                <li>E-Mail: @(user.getEmail)</li>
            </ul>
            @if(ownProfile) {
                <p>TODO: Button Profil bearbeiten einfügen</p>
            }
        </div>
        <div class="userStatistics">
            <h3>Statistik</h3>
            <p>
                <b>Laufende Spiele:</b> @user.getNumberOfPlayingGames
            </p>
            <p>
                <b>Gespielte Spiele:</b> @user.getNumberOfPlayedGames
            </p>
            <p>
                <b>Punkte:</b> @user.getPoints
            </p>
            <p>
                <b>Punkte pro Spiel:</b>
                <b id="pointsPerGame"></b>
            </p>

        </div>
        <div class="userPerks">
            <h3>Fähigkeiten</h3>
            <ul>
            @for(perk <- user.getPerks) {
                <li>Fähigkeit "@perk.getPerkPerTopic.getPerk.getName" für @perk.getPerkPerTopic.getTopic.getName</li>
            }
            </ul>

            @if(ownProfile) {
                <a href="/profile/scan" class="addPerkButton">+Fähigkeit</a>
            }
        </div>

        <div class="formular">
            <a class="deleteButton" href="/profile/delete">
                Account löschen!
            </a>
        </div>
    </div>
    <script>
        @if(feedback != "") {
            window.onload = (function() {
                window.alert("@feedback");
            });
        }

        var numberOfPoints = @user.getPoints;
        var numberOfGames = @user.getNumberOfPlayedGames;
        var pointsPerGame = numberOfPoints/numberOfGames;

        document.getElementById("pointsPerGame").innerHTML = pointsPerGame;

    </script>
}